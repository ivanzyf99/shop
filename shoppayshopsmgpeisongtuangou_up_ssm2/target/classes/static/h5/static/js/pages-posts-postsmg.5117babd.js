(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-posts-postsmg"],{"06c3":function(t,e,i){var n=i("3e51");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("0ef1438f",n,!0,{sourceMap:!1,shadowMode:!1})},"0941":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.file-outerBox[data-v-a9595284]{width:100%;height:100vh;position:fixed;top:0;left:0;right:0;bottom:0;z-index:1070;padding-bottom:%?40?%;background-color:#fff}.file-outerBox .file-titel[data-v-a9595284]{width:100%;height:%?80?%;line-height:%?80?%;text-align:center;padding:0 %?32?%;display:flex;align-items:center;justify-content:space-between}.file-outerBox .file-titel .file-nav-leftBox[data-v-a9595284]{width:%?60?%;height:100%;display:flex;align-items:center;justify-content:center}.file-outerBox .file-titel .file-nav-leftBox .file-back-img[data-v-a9595284]{width:%?36?%}.file-outerBox .file-titel .file-nav-rightBox[data-v-a9595284]{width:%?60?%;height:100%}.file-outerBox .file-address[data-v-a9595284]{width:100%;height:%?60?%;background-color:#fbfbfb;padding:0 %?32?%;display:flex;color:#373737;font-size:%?24?%}.file-outerBox .file-address .address-scroll[data-v-a9595284]{width:calc(100% - %?116?%);white-space:nowrap;height:100%}.file-outerBox .file-address .address-scroll .address-box[data-v-a9595284]{height:%?60?%;line-height:%?60?%;display:inline-block}.file-outerBox .file-address .address-scroll .address-box .to-img-box[data-v-a9595284]{width:%?20?%}.file-outerBox .file-address .root-box[data-v-a9595284]{width:%?116?%;height:%?60?%;line-height:%?60?%;display:inline-block;box-shadow:%?10?% 0 %?10?% %?-10?% rgba(8,8,8,.3)}.file-outerBox .file-address .root-box .to-img-box[data-v-a9595284]{width:%?20?%}.file-outerBox .folder-box[data-v-a9595284]{height:%?120?%;display:flex;align-items:center;justify-content:space-between;margin:0 %?32?%;border-bottom:1px solid #eee}.file-outerBox .folder-box .folder-name-box[data-v-a9595284]{width:80%;display:flex;align-items:center;flex-wrap:wrap}.file-outerBox .folder-box .folder-name-box .folder-img[data-v-a9595284]{width:%?72?%;margin-right:%?16?%}.file-outerBox .folder-box .folder-name-box .name-box[data-v-a9595284]{width:calc(100% - %?100?%);overflow:hidden;word-wrap:break-word;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.file-outerBox .folder-box .toFolder-img[data-v-a9595284]{width:%?28?%}.file-outerBox .select-tips[data-v-a9595284]{width:100%;height:%?160?%;text-align:center;font-size:%?32?%;color:#888;padding-top:%?60?%}.file-outerBox .file-box[data-v-a9595284]{height:%?120?%;display:flex;align-items:center;justify-content:space-between;margin:0 %?32?%;border-bottom:1px solid #eee}.file-outerBox .file-box .file-name-box[data-v-a9595284]{width:80%;display:flex;align-items:center}.file-outerBox .file-box .file-name-box .file-img[data-v-a9595284]{width:%?72?%;margin-right:%?16?%}.file-outerBox .file-box .file-name-box .name-box[data-v-a9595284]{width:calc(100% - %?100?%);overflow:hidden;word-wrap:break-word;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.file-outerBox .file-box .select-img[data-v-a9595284]{width:%?32?%}.file-outerBox .select-foot-btn[data-v-a9595284]{width:calc(100% - %?64?%);margin-top:%?20?%}',""]),t.exports=e},1081:function(t,e,i){"use strict";i.r(e);var n=i("6a9a"),o=i("64ec");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("c92a");var r=i("f0c5"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"a9595284",null,!1,n["a"],void 0);e["default"]=s.exports},"154f":function(t,e,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("c7eb")),a=n(i("b85c")),r=n(i("1da1"));i("ac1f");var s=n(i("65f2")),l=i("64a0"),d={name:"jin-edit",props:{showImgSize:{type:Boolean,default:!1},showImgToolbar:{type:Boolean,default:!1},showImgResize:{type:Boolean,default:!1},placeholder:{type:String,default:"开始输入..."},uploadFileUrl:{type:String,default:"#"},fileKeyName:{type:String,default:"file"},header:{type:Object},html:{type:String},height:{type:String,default:"100vh"}},computed:{},data:function(){return{showMoreTool:!1,showBold:!1,showItalic:!1,showIns:!1,showHeader:!1,showCenter:!1,showRight:!1,showSettingLayer:!1,activeColor:"#F56C6C",fileUrl:l.fileUrl}},components:{jinIcon:s.default},mounted:function(){},methods:{onEditorReady:function(t){var e=this;uni.createSelectorQuery().in(this).select(".ql-container").fields({size:!0,context:!0},(function(t){e.editorCtx=t.context,e.$emit("getEditorContxt",t.context),e.editorCtx.setContents({html:e.html})})).exec()},undo:function(){this.editorCtx.undo()},insertImage:function(){var t=this;uni.chooseImage({count:9,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(){var e=(0,r.default)((0,o.default)().mark((function e(i){var n,r,s,l;return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=i.tempFilePaths,uni.showLoading({title:"正在上传中..."}),r=(0,a.default)(n),e.prev=3,r.s();case 5:if((s=r.n()).done){e.next=12;break}return l=s.value,console.log(88,l),e.next=10,uni.uploadFile({url:t.uploadFileUrl,filePath:l,name:t.fileKeyName,header:t.header,success:function(e){var i=t.fileUrl+e.data;t.editorCtx.insertImage({src:i,alt:"图片",success:function(t){}}),uni.hideLoading()}});case 10:e.next=5;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](3),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,14,17,20]])})));return function(t){return e.apply(this,arguments)}}()})},insertDivider:function(){this.editorCtx.insertDivider()},redo:function(){this.editorCtx.redo()},showMore:function(){this.showMoreTool=!this.showMoreTool,this.editorCtx.setContents()},setBold:function(){this.showBold=!this.showBold,this.editorCtx.format("bold")},setItalic:function(){this.showItalic=!this.showItalic,this.editorCtx.format("italic")},checkStatus:function(t,e,i){e.hasOwnProperty(t)?this[i]=!0:this[i]=!1},statuschange:function(t){var e=t.detail;this.checkStatus("bold",e,"showBold"),this.checkStatus("italic",e,"showItalic"),this.checkStatus("ins",e,"showIns"),this.checkStatus("header",e,"showHeader"),e.hasOwnProperty("align")?"center"==e.align?(this.showCenter=!0,this.showRight=!1):"right"==e.align?(this.showCenter=!1,this.showRight=!0):(this.showCenter=!1,this.showRight=!1):(this.showCenter=!1,this.showRight=!1)},setIns:function(){this.showIns=!this.showIns,this.editorCtx.format("ins")},setHeader:function(){this.showHeader=!this.showHeader,this.editorCtx.format("header",!!this.showHeader&&"H2")},setCenter:function(){this.showCenter=!this.showCenter,this.editorCtx.format("align",!!this.showCenter&&"center")},setRight:function(){this.showRight=!this.showRight,this.editorCtx.format("align",!!this.showRight&&"right")},showSetting:function(){this.showSettingLayer=!this.showSettingLayer},editFocus:function(t){return(0,r.default)((0,o.default)().mark((function t(){return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},editBlur:function(t){var e=this;this.editorCtx.getContents({success:function(t){e.$emit("editOk",t)}})},release:function(t){var e=this;this.showSettingLayer=!1,this.editorCtx.getContents({success:function(i){Object.assign(i,{isPublic:t}),e.$emit("editOk",i)}})}}};e.default=d},"186d":function(t,e,i){"use strict";i.r(e);var n=i("6e75"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},"1a2d7":function(t,e,i){"use strict";i.r(e);var n=i("b8c6"),o=i("beb7");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var r=i("f0c5"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"578c44d1",null,!1,n["a"],void 0);e["default"]=s.exports},"22e0":function(t,e,i){"use strict";i.r(e);var n=i("d693"),o=i("e741");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("2ecd");var r=i("f0c5"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"5fcb20d0",null,!1,n["a"],void 0);e["default"]=s.exports},"2b2e":function(t,e,i){var n=i("e392");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("2961a782",n,!0,{sourceMap:!1,shadowMode:!1})},"2ecd":function(t,e,i){"use strict";var n=i("2b2e"),o=i.n(n);o.a},"306a":function(t,e,i){"use strict";i.r(e);var n=i("475e"),o=i("b8e5");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("c386");var r=i("f0c5"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"8849688a",null,!1,n["a"],void 0);e["default"]=s.exports},"3b78":function(t,e,i){var n=i("0941");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("7f34806c",n,!0,{sourceMap:!1,shadowMode:!1})},"3d74":function(t,e,i){"use strict";i.r(e);var n=i("f674"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},"3e51":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".choosefilebtn[data-v-8849688a]{height:%?100?%;width:%?200?%;text-align:center;background-color:#fff;border:1px #ddd solid;display:flex;flex-direction:column;justify-content:center;align-items:center}.sficon[data-v-8849688a]{width:%?50?%}.sftext[data-v-8849688a]{color:#666}.timg[data-v-8849688a]{width:50%}.filetext[data-v-8849688a]{color:#333}",""]),t.exports=e},"475e":function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={nkSelectFile:i("1081").default},o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[1==t.fileType?i("v-uni-image",{staticClass:"timg",attrs:{mode:"widthFix",src:t.fileUrl+t.fileName},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toChooseFile()}}}):t._e(),2==t.fileType?i("v-uni-video",{staticClass:"timg",attrs:{src:t.fileUrl+t.fileName},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toChooseFile()}}}):t._e(),3==t.fileType?i("v-uni-audio",{staticClass:"timg",attrs:{src:t.fileUrl+t.fileName},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toChooseFile()}}}):t._e(),4==t.fileType?i("v-uni-view",{staticClass:"filetext",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toChooseFile()}}},[t._v(t._s(t.fileName))]):t._e(),0==t.fileType?i("v-uni-view",{staticClass:"choosefilebtn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toChooseFile()}}},[i("v-uni-image",{staticClass:"sficon",attrs:{mode:"widthFix",src:"http://124.71.39.108/static/images/icons/sfile2.png"}}),i("v-uni-view",{staticClass:"sftext"},[t._v("选择文件")])],1):t._e(),i("v-uni-view",[i("nk-select-file",{attrs:{btnText:"确认选择"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.getPath.apply(void 0,arguments)}},model:{value:t.nkshow,callback:function(e){t.nkshow=e},expression:"nkshow"}})],1)],1)},a=[]},"4b60":function(t,e,i){"use strict";var n=i("6149"),o=i.n(n);o.a},5159:function(t,e,i){"use strict";i.r(e);var n=i("55e2"),o=i("186d");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("4b60");var r=i("f0c5"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"51442d1a",null,!1,n["a"],void 0);e["default"]=s.exports},"55e2":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("v-uni-view",{staticClass:"u-loading-icon",class:[t.vertical&&"u-loading-icon--vertical"],style:[t.$u.addStyle(t.customStyle)]},[t.webviewHide?t._e():i("v-uni-view",{ref:"ani",staticClass:"u-loading-icon__spinner",class:["u-loading-icon__spinner--"+t.mode],style:{color:t.color,width:t.$u.addUnit(t.size),height:t.$u.addUnit(t.size),borderTopColor:t.color,borderBottomColor:t.otherBorderColor,borderLeftColor:t.otherBorderColor,borderRightColor:t.otherBorderColor,"animation-duration":t.duration+"ms","animation-timing-function":"semicircle"===t.mode||"circle"===t.mode?t.timingFunction:""}},["spinner"===t.mode?t._l(t.array12,(function(t,e){return i("v-uni-view",{key:e,staticClass:"u-loading-icon__dot"})})):t._e()],2),t.text?i("v-uni-text",{staticClass:"u-loading-icon__text",style:{fontSize:t.$u.addUnit(t.textSize),color:t.textColor}},[t._v(t._s(t.text))]):t._e()],1):t._e()},o=[]},6149:function(t,e,i){var n=i("9aa7");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("4a55648b",n,!0,{sourceMap:!1,shadowMode:!1})},"64ec":function(t,e,i){"use strict";i.r(e);var n=i("ed9c"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},"65f2":function(t,e,i){"use strict";i.r(e);var n=i("b57c"),o=i("3d74");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("dd60");var r=i("f0c5"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"b947ed7a",null,!1,n["a"],void 0);e["default"]=s.exports},"6a9a":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isOpen?i("v-uni-view",{staticClass:"file-outerBox",on:{touchmove:function(e){e.preventDefault(),arguments[0]=e=t.$handleEvent(e)}}},[i("v-uni-view",{staticStyle:{width:"100%","padding-top":"--status-bar-height"}}),i("v-uni-view",{staticClass:"file-titel",style:{backgroundColor:t.navBgColor}},[i("v-uni-view",{staticClass:"file-nav-leftBox",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.backAddress.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"file-back-img",attrs:{src:t.backImg,mode:"widthFix"}})],1),i("v-uni-text",{style:t.titelStyle},[t._v(t._s(t.titel))]),i("v-uni-view",{staticClass:"file-nav-rightBox"})],1),i("v-uni-view",{staticClass:"file-address"},[i("v-uni-view",{staticClass:"root-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.backRoot.apply(void 0,arguments)}}},[t._v("内部存储"),i("v-uni-image",{staticClass:"to-img-box",attrs:{src:t.directionImg,mode:"widthFix"}})],1),i("v-uni-scroll-view",{staticClass:"address-scroll",attrs:{"scroll-x":!0}},t._l(t.addressBar,(function(e,n){return i("v-uni-view",{staticClass:"address-box",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.backFolder(e,n)}}},[t._v(t._s(e.name)),i("v-uni-image",{staticClass:"to-img-box",attrs:{src:t.directionImg,mode:"widthFix"}})],1)})),1)],1),i("v-uni-view",{},[i("v-uni-scroll-view",{style:{height:"calc(100vh - "+(2*t.barHeight+280)+"rpx)"},attrs:{"scroll-y":!0}},[t.inaccessible?i("v-uni-view",{staticClass:"select-tips"},[i("v-uni-view",{staticStyle:{"line-height":"40rpx"}},[t._v("无法访问的文件夹")]),i("v-uni-view",{staticStyle:{"line-height":"40rpx"}},[t._v("建议前往安卓存储访问框架查看文件")])],1):t._e(),t._l(t.folderArr,(function(e){return i("v-uni-view",{staticClass:"folder-box",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toFolder(e)}}},[i("v-uni-view",{staticClass:"folder-name-box"},[i("v-uni-image",{staticClass:"folder-img",attrs:{src:t.folderImg,mode:"widthFix"}}),i("v-uni-view",{staticClass:"name-box"},[t._v(t._s(e.name))])],1),i("v-uni-view",[i("v-uni-image",{staticClass:"toFolder-img",attrs:{src:t.enterImg,mode:"widthFix"}})],1)],1)})),t._l(t.fileArr,(function(e,n){return i("v-uni-view",{staticClass:"file-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectFile(n)}}},[i("v-uni-view",{staticClass:"file-name-box"},["file"==e.type?i("v-uni-image",{staticClass:"file-img",attrs:{src:t.fileImg,mode:"widthFix"}}):t._e(),"txt"==e.type?i("v-uni-image",{staticClass:"file-img",attrs:{src:t.txtImg,mode:"widthFix"}}):t._e(),"doc"==e.type?i("v-uni-image",{staticClass:"file-img",attrs:{src:t.docImg,mode:"widthFix"}}):t._e(),"pdf"==e.type?i("v-uni-image",{staticClass:"file-img",attrs:{src:t.pdfImg,mode:"widthFix"}}):t._e(),i("v-uni-view",{staticClass:"name-box"},[t._v(t._s(e.name))])],1),i("v-uni-view",[e.select?i("v-uni-image",{staticClass:"select-img",attrs:{src:t.selectedImg,mode:"widthFix"}}):i("v-uni-image",{staticClass:"select-img",attrs:{src:t.unselectedImg,mode:"widthFix"}})],1)],1)}))],2)],1),i("v-uni-view",{},[i("v-uni-button",{staticClass:"select-foot-btn",style:t.btnStyle,attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.uploadBtn.apply(void 0,arguments)}}},[t._v(t._s(t.btnText))])],1)],1):t._e()},o=[]},"6e75":function(t,e,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a630"),i("3ca3");var o=n(i("8d16")),a={name:"u-loading-icon",mixins:[uni.$u.mpMixin,uni.$u.mixin,o.default],data:function(){return{array12:Array.from({length:12}),aniAngel:360,webviewHide:!1,loading:!1}},computed:{otherBorderColor:function(){var t=uni.$u.colorGradient(this.color,"#ffffff",100)[80];return"circle"===this.mode?this.inactiveColor?this.inactiveColor:t:"transparent"}},watch:{show:function(t){}},mounted:function(){this.init()},methods:{init:function(){setTimeout((function(){}),20)},addEventListenerToWebview:function(){var t=this,e=getCurrentPages(),i=e[e.length-1],n=i.$getAppWebview();n.addEventListener("hide",(function(){t.webviewHide=!0})),n.addEventListener("show",(function(){t.webviewHide=!1}))}}};e.default=a},"76e1":function(t,e,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("5530"));i("14d9");var a=i("64a0"),r=i("26cb"),s=n(i("22e0")),l=n(i("9963")),d=n(i("306a")),c=(i("3d88"),{components:{jinEdit:s.default,fileUpload:d.default,ideaUpload:l.default},data:function(){return{tel:"",typelist:[],filelist:[],fobj:{title:"",type:1,note:"",img:"",table:"posts"},tid:null,fileUrl:a.fileUrl,uploadUrl:a.uploadUrl,editorCtx:null,editorHtml:"",totype:1}},onLoad:function(t){var e=this;t.tid&&"undefined"!==t.tid&&(this.tid=t.tid),this.totype=t.totype||1,console.log("tttttttid:"+t.tid+" showdel:"+this.showdel),this.tid&&(0,a.findj)({params:{table:"posts",id:this.tid}}).then((function(t){e.fobj=t,e.filelist.push({url:e.fileUrl+t.img}),console.log(e.imgfile),e.editorHtml=e.fobj.note})).catch((function(t){})),(0,a.listj)({params:{table:"type2"}}).then((function(t){e.typelist=t})).catch((function(t){}))},methods:{savePosts:function(){var t=this;this.editorCtx.getContents({success:function(e){t.fobj.note=e.html,t.fobj.uid=t.userInfo.id,t.fobj.username=t.userInfo.username,console.log(t.filelist),t.filelist.length?t.fobj.img=t.filelist[0].url.data:t.fobj.img="";var i=t.fobj;i.table="posts",(0,a.savej)({params:i}).then((function(e){1==t.totype?uni.redirectTo({url:"./posts?type="+t.fobj.type+"&uid="+t.userInfo.id}):uni.redirectTo({url:"./postslist?type="+t.fobj.type+"&uid="+t.userInfo.id})})).catch((function(t){}))}})},comboboxselect:function(t){this.fobj.typeid=t.id,this.fobj.type=t.title},delPosts:function(){(0,a.deletej)({params:{table:"posts",id:this.tid}}).then((function(t){uni.redirectTo({url:"./posts"})})).catch((function(t){}))},goBack:function(){uni.navigateBack({delta:1})},editOk:function(t){this.fobj.note=t.html},getEditorContxt:function(t){this.editorCtx=t,this.editorCtx.setContents({html:this.fobj.note})}},computed:(0,o.default)({},(0,r.mapState)(["userInfo"]))});e.default=c},"8d16":function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3");var n={props:{show:{type:Boolean,default:uni.$u.props.loadingIcon.show},color:{type:String,default:uni.$u.props.loadingIcon.color},textColor:{type:String,default:uni.$u.props.loadingIcon.textColor},vertical:{type:Boolean,default:uni.$u.props.loadingIcon.vertical},mode:{type:String,default:uni.$u.props.loadingIcon.mode},size:{type:[String,Number],default:uni.$u.props.loadingIcon.size},textSize:{type:[String,Number],default:uni.$u.props.loadingIcon.textSize},text:{type:[String,Number],default:uni.$u.props.loadingIcon.text},timingFunction:{type:String,default:uni.$u.props.loadingIcon.timingFunction},duration:{type:[String,Number],default:uni.$u.props.loadingIcon.duration},inactiveColor:{type:String,default:uni.$u.props.loadingIcon.inactiveColor}}};e.default=n},"9aa7":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-view[data-v-51442d1a], uni-scroll-view[data-v-51442d1a], uni-swiper-item[data-v-51442d1a]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-loading-icon[data-v-51442d1a]{flex-direction:row;align-items:center;justify-content:center;color:#c8c9cc}.u-loading-icon__text[data-v-51442d1a]{margin-left:4px;color:#606266;font-size:14px;line-height:20px}.u-loading-icon__spinner[data-v-51442d1a]{width:30px;height:30px;position:relative;box-sizing:border-box;max-width:100%;max-height:100%;-webkit-animation:u-rotate-data-v-51442d1a 1s linear infinite;animation:u-rotate-data-v-51442d1a 1s linear infinite}.u-loading-icon__spinner--semicircle[data-v-51442d1a]{border-width:2px;border-color:transparent;border-top-right-radius:100px;border-top-left-radius:100px;border-bottom-left-radius:100px;border-bottom-right-radius:100px;border-style:solid}.u-loading-icon__spinner--circle[data-v-51442d1a]{border-top-right-radius:100px;border-top-left-radius:100px;border-bottom-left-radius:100px;border-bottom-right-radius:100px;border-width:2px;border-top-color:#e5e5e5;border-right-color:#e5e5e5;border-bottom-color:#e5e5e5;border-left-color:#e5e5e5;border-style:solid}.u-loading-icon--vertical[data-v-51442d1a]{flex-direction:column}[data-v-51442d1a]:host{font-size:0;line-height:1}.u-loading-icon__spinner--spinner[data-v-51442d1a]{-webkit-animation-timing-function:steps(12);animation-timing-function:steps(12)}.u-loading-icon__text[data-v-51442d1a]:empty{display:none}.u-loading-icon--vertical .u-loading-icon__text[data-v-51442d1a]{margin:6px 0 0;color:#606266}.u-loading-icon__dot[data-v-51442d1a]{position:absolute;top:0;left:0;width:100%;height:100%}.u-loading-icon__dot[data-v-51442d1a]:before{display:block;width:2px;height:25%;margin:0 auto;background-color:currentColor;border-radius:40%;content:" "}.u-loading-icon__dot[data-v-51442d1a]:nth-of-type(1){-webkit-transform:rotate(30deg);transform:rotate(30deg);opacity:1}.u-loading-icon__dot[data-v-51442d1a]:nth-of-type(2){-webkit-transform:rotate(60deg);transform:rotate(60deg);opacity:.9375}.u-loading-icon__dot[data-v-51442d1a]:nth-of-type(3){-webkit-transform:rotate(90deg);transform:rotate(90deg);opacity:.875}.u-loading-icon__dot[data-v-51442d1a]:nth-of-type(4){-webkit-transform:rotate(120deg);transform:rotate(120deg);opacity:.8125}.u-loading-icon__dot[data-v-51442d1a]:nth-of-type(5){-webkit-transform:rotate(150deg);transform:rotate(150deg);opacity:.75}.u-loading-icon__dot[data-v-51442d1a]:nth-of-type(6){-webkit-transform:rotate(180deg);transform:rotate(180deg);opacity:.6875}.u-loading-icon__dot[data-v-51442d1a]:nth-of-type(7){-webkit-transform:rotate(210deg);transform:rotate(210deg);opacity:.625}.u-loading-icon__dot[data-v-51442d1a]:nth-of-type(8){-webkit-transform:rotate(240deg);transform:rotate(240deg);opacity:.5625}.u-loading-icon__dot[data-v-51442d1a]:nth-of-type(9){-webkit-transform:rotate(270deg);transform:rotate(270deg);opacity:.5}.u-loading-icon__dot[data-v-51442d1a]:nth-of-type(10){-webkit-transform:rotate(300deg);transform:rotate(300deg);opacity:.4375}.u-loading-icon__dot[data-v-51442d1a]:nth-of-type(11){-webkit-transform:rotate(330deg);transform:rotate(330deg);opacity:.375}.u-loading-icon__dot[data-v-51442d1a]:nth-of-type(12){-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:.3125}@-webkit-keyframes u-rotate-data-v-51442d1a{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes u-rotate-data-v-51442d1a{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}',""]),t.exports=e},b57c:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"icon",style:{color:t.color,fontSize:t.fontSize},domProps:{innerHTML:t._s(t.type)},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toclick.apply(void 0,arguments)}}})],1)},o=[]},b734:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'.content[data-v-b947ed7a]{display:flex;align-items:center;justify-content:center}@font-face{font-family:jin;\n\t/** 阿里巴巴矢量图标库的字体库地址，可以替换自己的字体库地址 **/src:url(https://at.alicdn.com/t/font_1491431_6m7ltjo8wi.ttf) format("truetype")}.icon[data-v-b947ed7a]{font-family:jin!important;font-size:%?34?%}',""]),t.exports=e},b85c:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=(0,n.default)(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,l=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){l=!0,r=t},f:function(){try{s||null==i["return"]||i["return"]()}finally{if(l)throw r}}}},i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0"),i("d9e2"),i("d401");var n=function(t){return t&&t.__esModule?t:{default:t}}(i("06c5"))},b8c6:function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uNavbar:i("ca28").default},o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("u-navbar",{attrs:{title:"信息管理",border:!0,placeholder:!0,autoBack:!0}}),i("v-uni-scroll-view",{staticClass:"svcontainer",attrs:{"enable-flex":!0}},[i("v-uni-view",{staticClass:"formitem"},[i("v-uni-view",{staticClass:"formlabel"},[t._v("标题:")]),i("v-uni-input",{staticClass:"binput1",attrs:{type:"text"},model:{value:t.fobj.title,callback:function(e){t.$set(t.fobj,"title",e)},expression:"fobj.title"}})],1),i("v-uni-view",{staticClass:"formitem"},[i("v-uni-view",{staticClass:"formlabel"},[t._v("文件:")]),i("fileUpload",{model:{value:t.sfileName,callback:function(e){t.sfileName=e},expression:"sfileName"}})],1),i("v-uni-view",{staticClass:"formitem"},[i("v-uni-view",{staticClass:"formlabel"},[t._v("详细信息:")]),i("v-uni-view",{staticStyle:{border:"1px #ddd solid"}},[i("jinEdit",{attrs:{html:t.editorHtml,height:"300px",uploadFileUrl:t.uploadUrl,placeholder:"请输入内容"},on:{getEditorContxt:function(e){arguments[0]=e=t.$handleEvent(e),t.getEditorContxt.apply(void 0,arguments)},editOk:function(e){arguments[0]=e=t.$handleEvent(e),t.editOk.apply(void 0,arguments)}},model:{value:t.fobj.note,callback:function(e){t.$set(t.fobj,"note",e)},expression:"fobj.note"}})],1)],1),i("v-uni-view",{staticClass:"formitem"},[i("v-uni-button",{attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.savePosts()}}},[t._v("提交")])],1),t.tid?i("v-uni-view",{staticClass:"formitem"},[i("v-uni-button",{attrs:{type:"warn"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.delPosts()}}},[t._v("删除")])],1):t._e()],1)],1)},a=[]},b8e5:function(t,e,i){"use strict";i.r(e);var n=i("f5df1"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},beb7:function(t,e,i){"use strict";i.r(e);var n=i("76e1"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},c386:function(t,e,i){"use strict";var n=i("06c3"),o=i.n(n);o.a},c92a:function(t,e,i){"use strict";var n=i("3b78"),o=i.n(n);o.a},d693:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container",style:{height:t.height}},[i("v-uni-editor",{ref:"editot",staticClass:"ql-container",attrs:{placeholder:t.placeholder,"show-img-size":!0,"show-img-toolbar":!0,"show-img-resize":!0,id:"editor"},on:{ready:function(e){arguments[0]=e=t.$handleEvent(e),t.onEditorReady.apply(void 0,arguments)},statuschange:function(e){arguments[0]=e=t.$handleEvent(e),t.statuschange.apply(void 0,arguments)},focus:function(e){arguments[0]=e=t.$handleEvent(e),t.editFocus.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t.editBlur.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"tool-view"},[i("v-uni-view",{staticClass:"font-more",style:{height:t.showMoreTool?"100rpx":0}},[i("jinIcon",{staticClass:"single",attrs:{type:"&#xe6e7;","font-size":"44rpx",title:"加粗",color:t.showBold?t.activeColor:"#666666"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setBold.apply(void 0,arguments)}}}),i("jinIcon",{staticClass:"single",attrs:{type:"&#xe6fe;","font-size":"44rpx",title:"斜体",color:t.showItalic?t.activeColor:"#666666"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setItalic.apply(void 0,arguments)}}}),i("jinIcon",{staticClass:"single",attrs:{type:"&#xe6f8;","font-size":"44rpx",title:"分割线",color:t.showIns?t.activeColor:"#666666"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setIns.apply(void 0,arguments)}}}),i("jinIcon",{staticClass:"single",attrs:{type:"&#xe6e3;","font-size":"44rpx",title:"标题",color:t.showHeader?t.activeColor:"#666666"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setHeader.apply(void 0,arguments)}}}),i("jinIcon",{staticClass:"single",attrs:{type:"&#xe6f1;","font-size":"44rpx",title:"居中",color:t.showCenter?t.activeColor:"#666666"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setCenter.apply(void 0,arguments)}}}),i("jinIcon",{staticClass:"single",attrs:{type:"&#xe6ed;","font-size":"44rpx",title:"居右",color:t.showRight?t.activeColor:"#666666"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setRight.apply(void 0,arguments)}}})],1),t.showSettingLayer?i("v-uni-view",{staticClass:"setting-layer-mask",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showSetting.apply(void 0,arguments)}}}):t._e(),t.showSettingLayer?i("v-uni-view",{staticClass:"setting-layer"},[i("v-uni-view",{staticClass:"single",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.release(!0)}}},[i("jinIcon",{staticClass:"icon",attrs:{type:"&#xe639;"}}),i("v-uni-view",[t._v("公开发布")])],1),i("v-uni-view",{staticClass:"single",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.release(!1)}}},[i("jinIcon",{staticClass:"icon",attrs:{type:"&#xe655;"}}),i("v-uni-view",[t._v("暂时保存")])],1)],1):t._e(),i("v-uni-view",{staticClass:"tool"},[i("jinIcon",{staticClass:"single",attrs:{type:"&#xe6f3;","font-size":"44rpx",title:"插入图片"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.insertImage.apply(void 0,arguments)}}}),i("jinIcon",{staticClass:"single",attrs:{type:"&#xe6f9;","font-size":"44rpx",title:"修改文字样式",color:t.showMoreTool?t.activeColor:"#666666"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showMore.apply(void 0,arguments)}}}),i("jinIcon",{staticClass:"single",attrs:{type:"&#xe6eb;","font-size":"44rpx",title:"分割线"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.insertDivider.apply(void 0,arguments)}}}),i("jinIcon",{staticClass:"single",attrs:{type:"&#xe6e8;","font-size":"44rpx",title:"撤销"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.undo.apply(void 0,arguments)}}}),i("jinIcon",{staticClass:"single",attrs:{type:"&#xe705;","font-size":"44rpx",title:"重做"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.redo.apply(void 0,arguments)}}}),i("jinIcon",{staticClass:"single",attrs:{type:"&#xeb8a;","font-size":"44rpx",title:"设置"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showSetting.apply(void 0,arguments)}}})],1)],1)],1)},o=[]},dd60:function(t,e,i){"use strict";var n=i("f305"),o=i.n(n);o.a},e392:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".container[data-v-5fcb20d0]{box-sizing:border-box;display:flex;flex-direction:column;height:100%;box-sizing:border-box\n\t/* padding-top: 30rpx; */}.ql-container[data-v-5fcb20d0]{line-height:150%;font-size:%?34?%;width:100%;background:#fff;\n\t/* width: calc(100% - 60rpx); */margin:0 auto;flex:1;box-sizing:border-box\n\t/* margin-top: 30rpx; */\n\t/* padding-bottom: 5rpx; */}.tool-view[data-v-5fcb20d0]{width:100%;background:#eee\n\t/* margin-top: 20px; */}.tool[data-v-5fcb20d0]{height:%?100?%;display:flex;align-items:center;justify-content:space-around;width:100%}.font-more[data-v-5fcb20d0]{display:flex;align-items:center;justify-content:space-around;width:100%;background:#ebebeb;overflow:hidden;transition:all .15s}.setting-layer[data-v-5fcb20d0]{position:absolute;bottom:%?100?%;background:#fff;width:%?250?%;right:%?20?%;box-shadow:0 2px 8px rgba(0,0,0,.15);border-radius:%?8?%}.setting-layer .single[data-v-5fcb20d0]{height:%?80?%;font-size:%?32?%;padding:0 %?30?%;display:flex;align-items:center;line-height:%?80?%;flex-direction:row;color:#666}.setting-layer .single .icon[data-v-5fcb20d0]{margin-right:%?20?%}.setting-layer-mask[data-v-5fcb20d0]{position:fixed;left:0;top:0;width:100vw;height:100vh;background:transparent}",""]),t.exports=e},e741:function(t,e,i){"use strict";i.r(e);var n=i("154f"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},ed9c:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3"),i("d3b7"),i("4d63"),i("c607"),i("ac1f"),i("2c3e"),i("25f0"),i("14d9"),i("841c"),i("4e82"),i("a434");var n={name:"nk-select-file",props:{value:{type:Boolean,default:!1},backImg:{type:String,default:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-5c697db4-d920-4af3-90a0-19211379b881/c08ef3dc-2514-443d-91aa-a055a098077f.png"},directionImg:{type:String,default:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-5c697db4-d920-4af3-90a0-19211379b881/183fcda4-b046-4723-8356-dded284bdefc.png"},enterImg:{type:String,default:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-5c697db4-d920-4af3-90a0-19211379b881/138ad94e-84e5-460e-a4eb-9e29d2139049.png"},folderImg:{type:String,default:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-5c697db4-d920-4af3-90a0-19211379b881/7f70ee21-bd9c-4630-9a0a-113d78a99335.png"},fileImg:{type:String,default:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-5c697db4-d920-4af3-90a0-19211379b881/24fe2fda-a956-402e-af65-e11f8779c6d1.png"},txtImg:{type:String,default:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-5c697db4-d920-4af3-90a0-19211379b881/10450e01-189b-48c7-9b97-918104fdd701.png"},docImg:{type:String,default:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-5c697db4-d920-4af3-90a0-19211379b881/501660e5-8386-473f-bfcb-34c0b2b4a2f8.png"},pdfImg:{type:String,default:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-5c697db4-d920-4af3-90a0-19211379b881/b1056050-6d27-454e-b2b7-51e3832cfe5e.png"},selectedImg:{type:String,default:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-5c697db4-d920-4af3-90a0-19211379b881/ebaaad9d-4697-42d1-beea-f4c736132b9a.png"},unselectedImg:{type:String,default:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-5c697db4-d920-4af3-90a0-19211379b881/ea5fe3fa-799b-40c9-be01-00d0b7419c4a.png"},titel:{type:String,default:"选择文件"},titelSize:{type:[String,Number],default:36},titelWeight:{type:[String,Number],default:600},titelColor:{type:String,default:"#373737"},btnText:{type:String,default:"上传"},btnSize:{type:[String,Number],default:36},btnHeight:{type:[String,Number],default:92},btnBgColor:{type:String,default:"#6521e2"},btnTextColor:{type:String,default:"#fff"},navBgColor:{type:String,default:"#fff"},filterArr:{type:Array,default:function(){return[]}}},data:function(){return{barHeight:"",rootAddress:{},addressBar:[],folderArr:[],fileArr:[],selectArr:[],isExit:!0,isOpen:!1,inaccessible:!1,titelStyle:{fontSize:this.titelSize+"rpx",fontWeight:this.titelWeight,color:this.titelColor},btnStyle:{height:this.btnHeight+"rpx",backgroundColor:this.btnBgColor,color:this.btnTextColor,fontSize:this.btnSize+"rpx"},filterReg:""}},watch:{value:function(t){t?this.open():this.close()}},mounted:function(){if("[object Array]"===Object.prototype.toString.call(this.filterArr)&&this.filterArr.length>0){var t=this.filterArr.join("|");this.filterReg=new RegExp(t,"i")}},methods:{open:function(){this.isOpen=!0,this.getBarHeight(),this.getRootDirectory()},close:function(){var t=this;this.isOpen=!1,this.rootAddress={},this.addressBar=[],this.folderArr=[],this.fileArr=[],this.selectArr=[],this.$emit("input",!1),this.$nextTick((function(){t.$emit("change",!1)}))},getBarHeight:function(){var t=this;uni.getSystemInfo({success:function(e){t.barHeight=e.statusBarHeight}})},getRootDirectory:function(){this.inaccessible=!1,this.isExit=!1,this.addressBar=[];var t=plus.android.importClass("android.os.Environment");t.getExternalStorageState(),t.MEDIA_MOUNTED;var e=t.getExternalStorageDirectory(),i=plus.android.invoke(e,"getName");this.rootAddress={name:i,file:e};var n=plus.android.invoke(e,"listFiles");if("[object Array]"===Object.prototype.toString.call(n)){for(var o=n.length,a=0;a<o;a++)if(!plus.android.invoke(n[a],"isHidden"))if(plus.android.invoke(n[a],"isDirectory")){var r=plus.android.invoke(n[a],"getName");this.folderArr.push({name:r,file:n[a]})}else{var s=plus.android.invoke(n[a],"getName");if(this.filterArr.length>0&&s.search(this.filterReg)<0)continue;s.search(/txt/i)>-1?this.fileArr.push({name:s,file:n[a],type:"txt",select:!1}):s.search(/doc|docx/i)>-1?this.fileArr.push({name:s,file:n[a],type:"doc",select:!1}):s.search(/pdf/i)>-1?this.fileArr.push({name:s,file:n[a],type:"pdf",select:!1}):this.fileArr.push({name:s,file:n[a],type:"file",select:!1})}this.folderArr.sort((function(t,e){return t.name.toUpperCase()>e.name.toUpperCase()?"1":"-1"})),this.fileArr.sort((function(t,e){return t.name.toUpperCase()>e.name.toUpperCase()?"1":"-1"})),this.rootAddress.folderArr=this.folderArr,this.rootAddress.fileArr=this.fileArr}else uni.showToast({icon:"none",title:"请确认授权访问",duration:2e3})},toFolder:function(t){this.isExit=!1,this.folderArr=[],this.fileArr=[],this.addressBar.push(t);var e=plus.android.invoke(t.file,"listFiles");null==e&&(this.inaccessible=!0);for(var i=e.length,n=0;n<i;n++)if(!plus.android.invoke(e[n],"isHidden"))if(plus.android.invoke(e[n],"isDirectory")){var o=plus.android.invoke(e[n],"getName");this.folderArr.push({name:o,file:e[n]})}else{var a=plus.android.invoke(e[n],"getName");if(this.filterArr.length>0&&a.search(this.filterReg)<0)continue;a.search(/txt/i)>-1?this.fileArr.push({name:a,file:e[n],type:"txt",select:!1}):a.search(/doc|docx/i)>-1?this.fileArr.push({name:a,file:e[n],type:"doc",select:!1}):a.search(/pdf/i)>-1?this.fileArr.push({name:a,file:e[n],type:"pdf",select:!1}):this.fileArr.push({name:a,file:e[n],type:"file",select:!1})}this.folderArr.sort((function(t,e){return t.name.toUpperCase()>e.name.toUpperCase()?"1":"-1"})),this.fileArr.sort((function(t,e){return t.name.toUpperCase()>e.name.toUpperCase()?"1":"-1"}))},backRoot:function(){this.inaccessible=!1,this.addressBar=[],this.folderArr=this.rootAddress.folderArr,this.fileArr=this.rootAddress.fileArr},backFolder:function(t,e){this.inaccessible=!1;var i=this.addressBar.length;if(e+1!=i){this.folderArr=[],this.fileArr=[],this.addressBar.splice(e+1,i-e+1);for(var n=plus.android.invoke(t.file,"listFiles"),o=(i=n.length,0);o<i;o++)if(!plus.android.invoke(n[o],"isHidden"))if(plus.android.invoke(n[o],"isDirectory")){var a=plus.android.invoke(n[o],"getName");this.folderArr.push({name:a,file:n[o]})}else{var r=plus.android.invoke(n[o],"getName");if(this.filterArr.length>0&&r.search(this.filterReg)<0)continue;r.search(/txt/i)>-1?this.fileArr.push({name:r,file:n[o],type:"txt",select:!1}):r.search(/doc|docx/i)>-1?this.fileArr.push({name:r,file:n[o],type:"doc",select:!1}):r.search(/pdf/i)>-1?this.fileArr.push({name:r,file:n[o],type:"pdf",select:!1}):this.fileArr.push({name:r,file:n[o],type:"file",select:!1})}this.folderArr.sort((function(t,e){return t.name.toUpperCase()>e.name.toUpperCase()?"1":"-1"})),this.fileArr.sort((function(t,e){return t.name.toUpperCase()>e.name.toUpperCase()?"1":"-1"}))}},selectFile:function(t){if(this.fileArr[t].select){this.$set(this.fileArr[t],"select",!1);for(var e=this.fileArr[t].name,i=0;i<this.selectArr.length;i++)if(e==this.selectArr[i].name){this.selectArr.splice(i,1);break}}else{this.$set(this.fileArr[t],"select",!0);var n=plus.android.importClass("java.io.FileInputStream"),o=new n(this.fileArr[t].file),a=o.available(),r=a/1048576;r=r.toFixed(4);var s=plus.android.invoke(this.fileArr[t].file,"getPath");this.selectArr.push({name:this.fileArr[t].name,url:s,sizeMB:r})}},uploadBtn:function(){this.$emit("confirm",this.selectArr),this.close()},backAddress:function(){var t=this.addressBar.length;if(t>1){var e=t-2,i=this.addressBar[e];this.backFolder(i,e)}else this.isExit?this.close():(this.isExit=!0,this.backRoot(),uni.showToast({title:"再操作一次退出文件选择",icon:"none",duration:1e3}))}}};e.default=n},f305:function(t,e,i){var n=i("b734");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("742c2a3f",n,!0,{sourceMap:!1,shadowMode:!1})},f5df1:function(t,e,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("e9c4");var o=i("64a0"),a=i("3d88"),r=n(i("1081")),s={components:{nkSelectFile:r.default},name:"file-upload",model:{prop:"value",event:"input"},props:{value:{type:String,default:""},filetypes:{type:Array,require:!1,default:function(){return[]}}},data:function(){return{nkshow:!1,pathArr:[],uploadUrl:o.uploadUrl,fileUrl:o.fileUrl,fileName:"",fileType:0}},watch:{value:function(t,e){this.fileName=t,this.fileType=this.getFileType(this.fileName),console.log("---------------------------"+this.fileName)}},methods:{getPath:function(t){console.log(t),this.pathArr=t;var e=t[0];console.log("selectFile:"+e.url);var i=e.url;this.uploadFile(i)},uploadFile:function(t){var e=this;console.log("uploadFile:"+t),uni.uploadFile({url:o.uploadUrl,filePath:t,name:"file",success:function(t){console.log("uploadFileRes:"+JSON.stringify(t));var i=t.data;e.$emit("input",i),console.log(i)},fail:function(t){console.log(t)}})},toChooseFile:function(){var t=this,e=(this.uploadUrl,uni.getSystemInfoSync()),i=e.uniPlatform;"mp-weixin"===i?wx.chooseMessageFile({count:1,success:function(e){var i=e.tempFiles,n=i[0].path;t.uploadFile(n)}}):"app-plus"===i||"app"===i?this.nkshow=!0:uni.chooseFile({count:1,type:"all",success:function(e){var i=e.tempFilePaths;console.log(i[0]),t.uploadFile(i[0])}})},getFileType:a.ideautil.getFileType}};e.default=s},f674:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{type:{type:String,default:"&#xe644;"},color:{type:String,default:"#666666"},fontSize:{type:String,default:"34rpx"}},methods:{toclick:function(){this.$emit("click")}}};e.default=n}}]);